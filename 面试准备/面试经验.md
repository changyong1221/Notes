# 面试经验

#### 面试流程

所有面试都是电话面试

1. 自我介绍

   面试官您好，我叫孙昌勇，来自北京邮电大学，是本科北邮然后保研本校，学的是软件工程专业。我在2020年的时候有一段为期一年的实习经历，当时实习的公司是偶数科技，做的是数据库内核研发，然后在数据库内核研发这个方面也积累了一些经验，同时我自己对数据库开发这个工作也非常感兴趣，也希望能够在这个领域继续深耕和成长。以上就是我的自我介绍。

2. 项目

   * 实习主要做了什么

   * gossip和raft、paxos区别

   * 讲讲gossip整个过程

3. 计算机原理、操作系统

   * 多线程怎么同步
   * 操作系统里面的内存管理的模型是什么样的，一个进程里面的内存管理是怎样的
   * 说一下PCB的概念,干吗用的?里面有什么?
   * 操作系统从一个进程切换到另一个进程 和从一个线程切换到另外一个线程的过程有什么不一样吗?
   * 为什么线程切换的开销比较小?那为什么进程切换开销比较大?
   * 进程间常见的通讯方式有哪些
   * 对多线程有多少了解 进程和线程的区别
     多线程要操作同一块数据，有什么需要注意的地方 那多进程要操作同一块数据要怎么处理
     多进程要怎么进行同步
   * 了解操作系统的内存管理吗 一个OS有16个G内存，它是怎么管理的 在内存管理上有哪些策略  
     清楚系统调用这个概念吗 内存相关的系统调用有哪些 分配或者释放内存的时候涉及到哪些系统调用  
     对常见的内存泄漏的解决方法有什么了解  
     其他编程语言是怎么进行内存管理的

4. 数据库原理

   * 数据库死锁检测
   * 数据库崩溃恢复怎么做的
   * 说一下什么是索引
   * 简单说一下MySQL的B+树是一个什么样的索引
   * B+树跟B树有什么性能上的差异?
   * 数据库的并发安全是怎么做到的呢?
   * 除了B+树,有没有学过其他树的变种,如LSM树?(记得好像是LSM树)
   * 说一下事务的属性
     事务的原子性是怎么保证的
     事务的提交过程是怎么提交的呢?
     事务的隔离性是怎么做到的呢?
     简单介绍一下你对MVCC的理解
     数据库的隔离级别
     什么是幻读
     R级别会不会有幻读
     SI级别了解吗
     除了MySQL你平常还接触过哪些数据库?
     MySQL的查询引擎你有没有了解(说了innodb,他说这是存储引擎,不是查询引擎)
     mysql的查询过程是什么样的
     MySQL的join是怎么实现的,底层实现
     如果MySQL里面有一条查询跑的比较慢,你要怎么找呢?
     如果它已经走了索引但是还是很慢怎么办呢
     说说你对分库分表的理解,之前有做过这相关的吗,分库分表的原理有没有了解过呢?
   * 

5. 计算机网络

   * IP协议是用来干啥的?
   * 为什么TCP是一个面向连接的可靠的传输协议?
   * TCP为了保证可靠传输有哪些机制呢?
   * 为什么TCP的连接要三次握手啊?
   * 说一下拥塞控制的几个算法

6. C++

   * 类的内存对齐
   * 说一下C++的多态是怎么实现的
   * 如果继承了两个父类，那子类的虚函数表长什么样子？谁先谁后呢？
   * 说一下拷贝构造函数所有的调用场景有哪些？想到的都说一下
   * unordered_map支持并发读取吗？如果让你实现一个支持并发的unordered_map的话要怎么实现

7. 算法

   * 归并排序、多路归并排序、外部排序
   * 快排递归、非递归，口述代码，详细讲解
   * 堆排序
   * 机器内存比较小，数据量比较大的情况下　要怎么排序

   * bfs怎么写成递归的形式
   * 红黑树、B+树的区别
   * 编程题是实现一个FIFO的queue。实现一个push和pop方法  
     实现完之后面试官进一步要求实现支持多线程的queue。  
     实现完多线程之后面试官要求当queue满了之后要阻塞线程。  
     实现完阻塞之后面试官要求queue为空的时候也阻塞。
   * 

8. 反问一定要问

   * 回答的怎么样，有什么需要加强的地方







作者：蔡姬本姬
链接：https://www.nowcoder.com/discuss/627299
来源：牛客网



大部门是[阿里云]()数据库事业群，小部门是做polarDB内核开发的。
感觉是非典型的[面经]()，每次都是在聊天面试...

## 一面（20min）

- 项目是分布式kv，基于raft做的，那么raft和paxos有什么区别？ 
- （paxos不会）那么讲讲raft整个过程吧 
- 我看你简历挺不错的，你有什么问题问我（此处省略若干问题） 

## 笔试

做的3.19号那一场，两道题ak了。

## 二面（20min）

- 我看你在现在在[腾讯]()实习，主要做的是什么 
- raft和paxos的区别 
- bfs怎样写成递归的形式 
- C++类的内存对齐 
- 数据库死锁检测（不会，说了死锁恢复） 
- [红黑树]()、B+树的区别 
- 数据库崩溃恢复怎么做的（不会，他说：来我们这里要加强数据库...） 
- 反问 

## hr面（30min）

- 自我介绍 
- 你在[腾讯]()做了什么，有什么亮点 
- 你的项目为什么要这么做，用三个形容词形容你的项目，你觉得还需要做什么 
- 为什么选择我们部门，有什么依据 
- 你的优势是什么 
- 你的挑战是什么 
- 你的规划是什么 
- 你的性格怎么形容，平常在活动中担任什么角色 
- 反问

















#### 面试出现的算法题

TopK

判断t字符串是否是s字符串的子序列子串

二叉树A、B，判断B是否是A的子结构

设计cache



#### 腾讯 wxg 部门 C++

1. 问得比较底层，把涛哥难倒了，比如编译原理（语法分析、词法分析），C++ template是怎么实现的

乐观锁，悲观锁

行锁，表锁



作者：Amonkey00
链接：https://www.nowcoder.com/discuss/824225
来源：牛客网



时长 1h 30min （30min笔试题目+ 1h电话面试） 

-  三道[算法题]()目 （都比较简单 Topk、判断t字符串是否是s字符串的子序列字串、[二叉树]()A、B，判断B是否是A的子结构） 
-  自我介绍 
-  项目中的WebSocket 
-  介绍Redis的数据结构 
-  Redis 的Hash类型扩容过程 
-  Redis中字符串类型是怎么实现 
-  设计类似C中的free命令，提问没有指明对象对应内存长度怎么去释放相应的大小 （不太明白C具体实现，说了Java中会把对象引用中的Markword中存放了实例长度，标记为未使用,但具体Java做法其实是断开引用就可以了） 
-  跳表有了解吗（展开讲了一下源码的实现 
-  优化一个跳表插入过程，如果现在有一部分数据插入是是局部有序的 比如 1、10000、2、3、4、6、8、9....类似，怎么去优化源码的插入过程。（答得不太好） 
-  MySQL的主从复制（binlog dump、从服务器读取线程，从服务器SQL线程） 
-  设想情景如果某个binlog已经使用了2年可能非常大，当新的从服务器开始连接的时候，需要读取这个binlog传输时间会很长，想要怎么做？ 

 没有接触过，去类比了Redis中的AOF重写概念，根据数据库的当前信息进行重新生成binlog，会丢失之前的修改——解释是可能1年前的操作也默认不会去恢复了。（好蠢.. 

 面试官提示为什么不直接转移数据库内容呢，（这里答偏了，我一直以为是去优化binlog大小。 

-  JWT的结构，三个部分的组成，使用过程密钥存储地点? 

 Header 和 Payload都使用了base64进行加密, 密钥是存放在服务器端的。 

 他问了我既然前面两部份base64加密是对称性加密为什么还需要密钥??? 我回答说加盐后进行匹配不是需要密钥吗，太菜了不太清楚面试官想要表达的意思。 

-  追问我讲述的JWT如果被攻击者服务器获取应该怎么去保证认证安全问题 

 我说可能会通过一些其他层（如SSL）去保证信息在网络传输过程中的安全问题以及设计失效时长等（这个地方我不知道怎么回答，JWT本身设计是可以防止这个的吗...） 

-  设计一个IP黑名单信息，去进行IP拦截（也可能会是按网段拦截） 

 计网IP这一块太差了，子网掩码过滤IP不熟悉，导致理解题目不清楚。 

 我提出解决思路说可以对所有的黑名单IP分xxx.xxx.xxx.xxx四个部分进行前缀树构建，当ip进入时依次按段进行匹配，这样黑名单内IP会匹配到，非黑名单IP会提前退出。（被面试官怼说按这个是有点脱离实际的），太菜了 

 对比其他面试，个人认为[腾讯]()确实面试好难。自己实力欠缺情况下心态问题也比较大，后面不断地重复自己的设计，面试官也不明确提出错误时候真的有点怀疑自己（直接提出说没有听懂，感觉不对）。问了很多实际问题，面试官对我偏八股的回答会追问实现具体细节，并加上实际的应用场景提出进行优化。个人实力太菜，面试官从实际开发角度出发询问，跟不太上他想要答案的思维逻辑，只能去牵扯相关的内容，导致回答逻辑性不紧密。 

 总结：基础不稳固，也需要多看看[面经]()，积累一些实际的优化手段，在实现技术的时候多想想是否能够进一步优化，加强自己的架构描述能力（安慰自己还年轻



# 腾讯wxg暑期实习面经

作者：VayneDuan
链接：https://www.nowcoder.com/discuss/635861
来源：牛客网



## 个人情况

- 西南某末流985大三 
- 绩点 年级前3% 
- 无实习经历 
- 项目偏硬件(基于MIPS指令集的五级流水线CPU设计, 使用Verilog编写) 
- 刷了70道`Leetcode`, 耗时近一周 
- 八股复习了两天, 主要是`C++`、`OS`和`计网` 

## 面试进度

- 3.31 一面 [提前一周约面] 
- 4.7 二面 [提前2小时邮件通知 - -!] 
- 4.8 HR面 
- 4.8 云证 
- 4.9 OC 

## 一面

### "先来做几道题"(40min)

[复制代码](#)

```
1``. 二叉树层序遍历 (Leetcode原题)``2``. 滑动窗口的最大值 (Leetcode原题)``3``. 反转链表 (Leetcode原题)``第一题和第三题: ``5``分钟秒了, 甚至反转链表的递归和迭代都写了``第二题: 之前没有做过, 写了个`O(n²)`的解法, 面试官不是很满意, 然后我优化成`O(nlogk)`, 事后去LeetCode学习了O(n)的方法
```

### 项目+八股

- 介绍一下你的 MIPS指令集的五级流水线CPU设计 的项目 
- 流水线的作用 
- 中断的作用, 中断的种类 
- 时间片调度是怎么实现的, CPU怎么判断时间片结束了 
- Cache的作用 
- CPU取指令是从内存吗 
- CPU是直接访问进程的地址空间吗 
- 进程切换的开销 
- 进程切换和线程切换的区别, 页表需要切换吗 
- CPU频繁切换进程, 性能损失主要是因为什么 
- 多线程, 保护临界数据的措施 
- 多进程同步 和 多线程同步 的区别 
- 怎么申请共享内存 **(不了解)** 
- 讲讲协程 
- C++你用过哪些容器 
- unodered_map和map, 底层数据结构的区别 
- unodered_map怎么解决hash冲突 **(不了解)** 
- vector怎么扩容 
- 使用迭代器, 一般要注意一些什么问题 **(我只说了类型问题, 应该还要考虑越界之类的, 迭代器不太熟悉)** 
- new / malloc 的区别 **(我只说了参数和返回值的区别, 其余当时并不清楚, 其实还有构造析构对象和自由存储区等等)** 
- C++怎么实现多态 
- 虚函数表什么时候时候创建的 **(我答错了, 答的对象构造时, 应该是编译时)** 
- 虚表指针什么时候时候创建的 
- 了解HTTP和HTTPS吗 **(不了解)** 
- TCP / UDP 区别 
- TCP 流量控制 / 拥塞控制 区别 
- 拥塞控制的几种[算法]() 
- 拥塞控制, 慢开始的过程 
- `time_wait`状态的作用 
- 有学习过一些网络安全相关的知识吗 **(没有)** 
- 有用过一些数据库吗 **(这学期正在学, 没有用过)** 
- 有接触过一些微服务相关的概念或者组件吗 **(没有)** 
- 什么时候能来实习 

**因为我没有学过数据库和微服务相关的, 并且第2道[算法题]()做得不好, C++也有答错一些, 以为凉了**
**一周后收到二面邮件, 12点收到邮件, 14点二面**

## 二面

### 两道情景编程题(60min)

1. 开发一个直播间监控系统，需求：
   ①管理所有直播，新开播就加入到系统，直播结束就从系统去掉
   ②直播间热度不断变化，热度出现变化时往系统更新这个直播当前热度值
   ③运营人员日常巡查希望可以在任何时刻都知道当前热度最高的100个直播间
   根据上述需求，请设计实现一个类(直播间的属性有`id`和`热度`)
2. 30万个员工，工卡是1-30万，抽出10万个员工发奖。
   已有一个随机数生成函数rand()能够生成0-65535的整数，写一个公平的抽奖程序，输出这10万个员工的工卡号码
   (进阶：30万抽99999个员工)

### 八股

1. vector底层 
2. set底层 **(我说的是[哈希表](), 答错了, 应该是[二叉树]())** 
3. 讲讲TCP滑动窗口 
4. 讲讲虚拟内存, 以及它解决了什么问题 
5. 快排的时间复杂度, 最好, 最坏, 什么时候最坏 

**第一道情景题, 一开始写了一个复杂度很高的思路, 并且因为一些语法很久没用生疏了, 并没有完全写出来...**
**后来大致讲了一下思路, 大概就是`topK`的思路, 创建和删除是`O(1)`, 查询top100是`O(nlog100)`**
**第二道情景题, 之前有刷到过, 三分钟秒了**

**面完之后以为凉了, 过了3分钟之后刷新, 居然直接到HR面了, 受宠若惊**

## HR面

- 自我介绍 
- 你所在的实验班当初是怎么选拔的, 实验班的不同之处是什么 
- 之后的规划打算(读研or就业) 
- 平时的兴趣爱好 
- [华为]()软件精英挑战赛相关: 如何分工, 为什么这样分工, 名次不好的原因, 赛后有去复盘反思过吗 
- 健康情况 
- 有无直系亲属在[腾讯]() 
- 什么时候能来实习, 能实习几个月 

**HR面当晚收到云证**
**HR面后第一天上午10点接到Offer Call**
